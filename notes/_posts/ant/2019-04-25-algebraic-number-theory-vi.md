---
title: 'Algebraic Number Theory (VI): Dedekind Domains'
layout: post
date: 2019-04-25 14:10:03 +0800
tag: [algebraic number theory]
series-order: 6
macros: >-
  "\\Frac":"\\operatorname{Frac}",
  "\\lcm":"\\operatorname{lcm}",
---

In number theory, we are interested in the theory of factorisation in number rings. Unfortunately, there are [number rings which are not UFDs]({% post_url 2018-12-31-a-refresher-in-commutative-rings %}), such as $\bb Z[\sqrt{-5}]$.

However, the situation is more tame if we consider the factorisation of _ideals_ instead of _elements_. In this post, we will prove the unique factorisation theorem for ideals in the more general setting of __Dedekind domains__, and deduce some consequences.

<!--more-->

## Dedekind domains

A (commutative unital) ring $R$ is a __Dedekind domain__ if:
1. $R$ is an integral domain;
2. $R$ is a [Noetherian ring]({% post_url 2019-02-14-commutative-algebra-vi %});
3. Every nonzero prime ideal in $R$ is maximal; and
4. $R$ is __integrally closed__ in its field of fractions

   $$K=\Frac(R)\coloneqq\left\{\frac\alpha\beta\,:\,\alpha,\beta\in R,\,\beta\neq0\right\},$$

   ie. if $\frac\alpha\beta\in K$ is a root of some _monic_ polynomial in $R[X]$, then in fact $\frac\alpha\beta\in R$, or equivalently $\beta\mid\alpha$ in $R$.

In this section, we will show that every number ring is a Dedekind domain. We first need two facts about number rings.

__Lemma__: Let $R$ be a number ring, and let $I\subseteq R$ be a nonzero ideal. Then the quotient $R/I$ is finite.

__Proof__: Pick any nonzero $\alpha\in I$, and consider $m=N^K(\alpha)$. Then $m\in\bb Z$ is nonzero. Moreover, $\frac m\alpha\in K$ is the product of all other conjugates of $\alpha$, so it is an algebraic integer. Hence $\frac m\alpha\in R$, so $m\in I$.

We know that the additive group of $R$ is a free abelian group of rank $n$. Hence the additive group of $R/mR$ is isomorphic to $(\bb Z/m\bb Z)^n$, so $R/mR$ has order $m^n$. Since $mR\subseteq I$, we have $R/I$ is also finite, with order dividing $m^n$. $\qed$

__Lemma__: Let $\alpha$ be a root of the monic polynomial $X^n+a_{n-1}X^{n-1}+\cdots+a_1X+a_0$, where each $a_k$ is an algebraic integer. Then $\alpha$ is also an algebraic integer.

__Proof__: By what we have proved about [integral extensions]({% post_url 2019-02-08-algebraic-number-theory-iii %}), it suffices to show that $\bb Z[a_0,\ldots,a_{n-1},\alpha]$ has finitely generated additive group.

Note that we can rewrite $a_k^{m_k}$ as a polynomial in $a_k$ with smaller exponents if $m_k\geq\deg(a_k)$. Similarly, we can rewrite $\alpha^m$ as a polynomial in $a_k$ and $\alpha$ if $m\geq n$. Now given any element of $\bb Z[a_0,\ldots,a_{n-1},\alpha]$, repeatedly rewrite each term using the above steps; at each step, we replace one term with finitely many terms, where the total degree and degree of $\alpha$ are nonincreasing, and at least one of these decreases. Hence this procedure must terminate after finitely many steps.

This shows that the additive group of $\bb Z[a_0,\ldots,a_{n-1},\alpha]$ is generated by 

$$\{a_0^{m_0}\cdots a_{n-1}^{m_{n-1}}\alpha^m\,:\,m_k<\deg(a_k),\,m< n\},$$

as desired. $\qed$

Now we are ready to show the main result of this section:

__Theorem__: Every number ring is a Dedekind domain.

__Proof__: Let $R$ be any number ring, associated to the number field $K$. Note that $K=\Frac(R)$.

(1) Note that $R$ is a subring of the field $K$, and hence is an integral domain.

(2) As we have shown in the [notes on number rings]({% post_url 2019-02-10-algebraic-number-theory-iv %}), the additive group of $R$ is a free abelian group of finite rank. Thus any ideal $I\subseteq R$, being an additive subgroup, is also free of finite rank. Now any (additive) integral basis for $I$ also generates $I$ as an $R$-module, so $I$ is finitely generated as an ideal of $R$. Hence $R$ is Noetherian.

(3) Let $P\subseteq R$ be a prime ideal. Then $R/P$ is a finite integral domain, and thus a field, so $P$ is maximal.

(4) If $\frac\alpha\beta\in K$ is the root of a monic polynomial in $R[X]$, note that the coefficients are all algebraic integers; hence $\frac\alpha\beta$ is also an algebraic integer, so $\frac\alpha\beta\in R$. $\qed$

## Prime decomposition in Dedekind domains

In this section, let $R$ be a Dedekind domain, and let $K=\Frac(R)$ be its field of fractions.

__Lemma__: Every ideal of $R$ contains a (finite) product of prime ideals.

__Proof__: Suppose otherwise; since $R$ is Noetherian, the collection of ideals which do not contain such products has a maximal member, say $M$. In particular, $M$ is not itself a prime ideal, so there exists $r,s\not\in M$ with $rs\in M$. By maximality of $M$, the ideals $M+rR$ and $M+sR$ both contain products of prime ideals, and hence so does

$$(M+rR)(M+sR)\subseteq M,$$

contradiction. $\qed$

Note that the above proof works for any Noetherian ring.

__Lemma__: Let $A\subsetneq R$ be a proper ideal. Then there exists $\gamma\in K\backslash R$ such that $\gamma A\subseteq R$.

__Proof__: Pick any nonzero $a\in A$. On one hand, $aR$ contains a product of prime ideals, say $P_1\cdots P_r$ with $r$ minimal. On the other hand, $A$ is contained in some maximal (hence prime) ideal $P$. Hence

$$P_1\cdots P_r\subseteq aR\subseteq A\subseteq P,$$

so $P_k\subseteq P$ for some $k$, say $P_1\subseteq P$. But all prime ideals in $R$ are maximal, so in fact $P_1=P$.

Now by minimality of $r$, there exists $b\in P_2\cdots P_r\backslash aR$. We now check that $\gamma=\frac ba$ works: $b\not\in aR$ implies $\gamma\not\in R$. Also, for any $x\in A$, we have $bx\in P_1P_2\cdots P_r\subseteq aR$, so $a\mid bx$. Hence $\gamma A\subseteq R$. $\qed$

__Proposition__: Let $I\subseteq R$ be an ideal. Then there exists an ideal $J\subseteq R$ such that $IJ$ is principal.

__Proof__: Pick any nonzero $\alpha\in I$, and let

$$J=\{\beta\in R\,:\,\beta I\subseteq\alpha R\},$$

which is an ideal in $R$ (check!).

Consider $A=\frac1\alpha IJ$ in $K$. Note that $IJ\subseteq\alpha R$, so $A\subseteq R$, and in fact $A$ is an ideal (check!). Now it suffices to show that for any $\gamma\in K$ such that $\gamma A\subseteq R$, we have $\gamma\in R$. By the previous lemma, this implies that $A$ is not a proper ideal, so $A=R$ implies $IJ=\alpha R$ and we are done.

Since $\alpha\in I$, we have $J\subseteq A$, so $\gamma J\subseteq\gamma A\subseteq R$. Now

$$\begin{aligned}
\gamma A&\subseteq R\\
\therefore\frac\gamma\alpha xy&\in R\quad\text{for all }x\in I,\,y\in J\\
\therefore(\gamma y)x&\in\alpha R\quad\text{for all }x\in I,\,y\in J\\
\therefore\gamma y&\in J\quad\text{for all }y\in J,
\end{aligned}$$

since $\gamma y\in R$. Hence $\gamma J\subseteq J$, and [the determinant trick]({% post_url 2019-02-08-algebraic-number-theory-iii %}) shows that $\gamma$ is an algebraic integer, so $\gamma\in R$, as desired. $\qed$

This implies the following cancellation law for ideals:

__Corollary__: Let $A,B,C\subseteq R$ be ideals such that $AB=AC$. Then $B=C$.

__Proof__: Pick an ideal $J\subseteq R$ such that $AJ=\alpha R$ is principal. Then $\alpha B=AJB=AJC=\alpha C$, so multiplying by $\frac1\alpha$ in $K$ gives $B=C$ in $K$, and hence in $R$. $\qed$

Let $A,B\subseteq R$ be ideals. We say that $A$ __divides__ $B$, written $A\mid B$, if there exists an ideal $C\subseteq R$ such that $AC=B$.

__Corollary__: Let $A,B\subseteq R$ be ideals. Then $A\mid B$ if and only if $A\supseteq B$.

__Proof__: ($\Rightarrow$) is clear. 

($\Leftarrow$) Pick an ideal $J\subseteq R$ such that $AJ=\alpha R$ is principal. Then $BJ\subseteq AJ=\alpha R$, so $C=\frac1\alpha BJ$ is contained in $R$, and is in fact an ideal (check!). Also, we have

$$AC=\frac1\alpha ABJ=B,$$

so $A\mid B$. $\qed$

We can now prove existence and uniqueness of prime decomposition in Dedekind domains:

__Theorem__: Every proper ideal in $R$ can be written uniquely (up to ordering of factors) as a product of prime ideals.

__Proof__: _Existence_: suppose otherwise; since $R$ is Noetherian, the collection of proper ideals which cannot be written as such a product has a maximal member, say $M$. Since $M\subseteq P$ for some maximal (hence prime) ideal $P\subseteq R$, by the previous corollary we have $M=PI$ for some ideal $I\subseteq R$.

Now if $I=M$ then $RM=M=PI=PM$ implies $R=P$ by cancellation, contradiction. Hence $M\subsetneq I$, so $I$ is a product of prime ideals by maximality of $M$. Then $M=PI$ is also such a product, contradiction.

_Uniqueness_: If $P_1\cdots P_r=Q_1\cdots Q_s$ for some prime ideals $P_i,Q_j\subseteq R$, then $Q_1\cdots Q_s\subseteq P_1$ implies $Q_j\subseteq P_1$ for some $j$, say $Q_1\subseteq P_1$ after reordering. But prime ideals in $R$ are maximal, so $P_1=Q_1$. Now cancellation gives $P_2\cdots P_r=Q_2\cdots Q_s$, so we can finish by induction on $\max(r,s)$. $\qed$

In particular, we have:

__Corollary__: The ideals in a number ring factor uniquely into prime ideals. $\qed$

## Applications of unique factorisation

In this section, we demonstrate the power of the unique factorisation theorem for ideals, and the other lemmas in the previous section, by deducing some easy consequences.

For our first application, we recall that [every PID is a UFD]({% post_url 2018-12-31-a-refresher-in-commutative-rings %}). In Dedekind domains, the converse also holds:

__Theorem__: A Dedekind domain which is a UFD is also a PID.

__Proof__: Let $R$ be a Dedekind domain which is a UFD, and let $I\subseteq R$ be any nonzero ideal. By a previous lemma, $I$ divides some principal ideal $aR$ with $a\neq0$.

Since $R$ is a UFD, we can write $a$ as a product of prime elements $p_k$, each of which generates a principal prime ideal $p_kR$. Now by unique factorisation, $I$ must be a product of some of these principal ideals, which must also be principal. $\qed$

Next, we consider the notion of the greatest common divisor and least common multiple of two ideals $I,J$ in a Dedekind domain $R$. On one hand, by a previous lemma, the divisibility relation on ideals in $R$ is given by reverse inclusion. Hence for any ideal $\mf a\subseteq R$, we have

$$\begin{aligned}
\mf a\mid I,\,\mf a\mid J&\iff I\subseteq\mf a,\,J\subseteq\mf a\\
&\iff I+J\subseteq\mf a\\
&\iff\mf a\mid I+J,\\
I\mid\mf a,\,J\mid\mf a&\iff\mf a\subseteq I,\,\mf a\subseteq J\\
&\iff\mf a\subseteq I\cap J\\
&\iff I\cap J\mid\mf a,
\end{aligned}$$

so we may define

$$\begin{aligned}
\gcd(I,J)&\coloneqq I+J,\\
\lcm(I,J)&\coloneqq I\cap J.
\end{aligned}$$

Now by unique factorisation, we can write any ideal $\mf a\subseteq R$ as a product over all prime ideals in $R$:

$$\mf a=\prod_PP^{v_P(\mf a)}$$

for integers $v_P(\mf a)\geq0$, where only finitely many of these integers are nonzero. Again by unique factorisation, we have $\mf a\mid\mf b$ if and only if $v_P(\mf a)\leq v_P(\mf b)$. Hence

$$\begin{aligned}
\mf a\mid I,\,\mf a\mid J&\iff v_P(\mf a)\leq\min(v_P(I),v_P(J))\text{ for all }P,\\
I\mid\mf a,\,J\mid\mf a&\iff v_P(\mf a)\geq\max(v_P(I),v_P(J))\text{ for all }P.
\end{aligned}$$

Hence we immediately obtain:

__Theorem__: Let $R$ be a Dedekind domain, and let $I,J\subseteq R$ be ideals. Then 

$$\begin{aligned}
\gcd(I,J)&=I+J=\prod_PP^{\min(v_P(I),v_P(J))},\\
\lcm(I,J)&=I\cap J=\prod_PP^{\max(v_P(I),v_P(J))}.
\end{aligned}$$

We can use the above observations to show that any ideal in a Dedekind domain can be generated by two elements, with one of them being arbitrarily chosen:

__Theorem__: Let $R$ be a Dedekind domain, and let $I\subseteq R$ be a nonzero ideal. Then for any nonzero $\alpha\in I$, there exists $\beta\in I$ such that $I=\alpha R+\beta R$.

__Proof__: It suffices to construct $\beta\in R$ such that $I=\gcd(\alpha R,\beta R)$. Write $I=\prod_{k=1}^rP_k^{n_k}$. Since $I\mid\alpha R$, the set of primes dividing $\alpha R$ is of the form

$$\{P_1,\ldots,P_r,Q_1,\ldots,Q_s\},$$

with $s\geq0$.

Now it suffices to construct $\beta$ such that $\beta R$ is divisible by any $P_k^{n_k}$, but not any $P_k^{n_k+1}$ or $Q_j$. We do this using the Chinese Remainder Theorem: for each $k$, choose $\beta_k\in P_k^{n_k}\backslash P_k^{n_k+1}$; this is possible since $P_k^{n_k}\neq P_k^{n_k+1}$ by unique factorisation. Now the divisibility conditions are $\beta$ are satisfied if $\beta$ satisfies the following system of congruences:

$$\begin{aligned}
\beta&\equiv\beta_i\pmod{P_k^{n_k+1}},&&(1\leq k\leq r)\\
\beta&\equiv1\pmod{Q_j}.&&(1\leq j\leq s)
\end{aligned}$$

This system has a solution if the $P_k^{n_k+1}$ and the $Q_j$ are pairwise comaximal. But the gcd (which is the sum) of any two of these is clearly $R$ by unique factorisation, so we are done. $\qed$